"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _enemy=_interopRequireDefault(require("./enemy.js")),_flea=_interopRequireDefault(require("./flea.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var EnemyController=function(){function o(e,t){_classCallCheck(this,o),this.enemies=[],this.player=t,this.bulletController=e,this.mushroomSound=new Audio,this.spiderSound=new Audio,this.gameFinish=new Audio,this.mushroomSound.src="./assets/audio/mushroomAudio.flac",this.spiderSound.src="./assets/audio/spiderAudio.flac",this.gameFinish.src="./assets/audio/game_end.mp3"}return _createClass(o,[{key:"createEnemy",value:function(e,t,o,r,i,n){var s=new _enemy.default(e,t,o,r,i,n);this.enemies.push(s)}},{key:"createFlea",value:function(e,t,o){var r=new _flea.default(e,t,o,this);this.enemies.push(r)}},{key:"storeScore",value:function(){var e=localStorage.getItem("highScores");e=JSON.parse(e);var t=parseInt(localStorage.getItem("currentScore"));e[e.length]=t,e.sort(function(e,t){return t-e}),console.log(e),e=e.slice(0,5),console.log(e),e=JSON.stringify(e),console.log(e),localStorage.setItem("highScores",e),console.log(localStorage.getItem("highScores"))}},{key:"update",value:function(o,r){var i=this;this.enemies.forEach(function(e,t){e.health<=0||e.y>800-e.height?i.enemies.splice(t,1):(i.bulletController.collideWith(e)&&(e.falling?i.spiderSound.play():i.mushroomSound.play(),e.health<=1&&i.enemies.splice(t,1)),"scorpio"==e.type&&e.x>800-e.width&&i.enemies.splice(t,1),"flea"==e.type&&console.log(i.player.collideWith(e)),i.player.collideWith(e)&&(r(),i.storeScore()),e.update(o))})}},{key:"draw",value:function(t){this.enemies.forEach(function(e){e.draw(t)})}}]),o}();exports.default=EnemyController;
//# sourceMappingURL=enemyController.min.js.map
