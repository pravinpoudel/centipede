{"version":3,"sources":["enemy.js"],"names":["Enemy","x","y","falling","color","health","type","context","width","height","enemyImage","Image","frameWidthPlusOffset","frameWidth","frameHeight","count","cspeedX","cspeedY","src","maxIndex","index","drawSprite","bind","damage","timeStamp","drawImage","filLStyle","console","log"],"mappings":"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","sourcesContent":["export default class Enemy {\r\n  constructor(x, y, falling, color, health, type) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.color = color;\r\n    this.health = health;\r\n    this.context = null;\r\n    this.width = 15;\r\n    this.height = 15;\r\n    this.enemyImage = new Image();\r\n    this.frameWidthPlusOffset = 90;\r\n    this.frameWidth = 8;\r\n    this.frameHeight = 8;\r\n    this.falling = falling;\r\n    this.count = 0;\r\n    this.cspeedX = 100;\r\n    this.cspeedY = 100;\r\n    this.enemyImage.src = \"./assets/mushroom.png\";\r\n    this.type = type;\r\n    \r\n    if (type == \"spidey\") {\r\n      this.frameWidth = 16;\r\n      this.frameHeight = 8;\r\n      this.enemyImage.src = \"./assets/spider.png\";\r\n      this.maxIndex = 3;\r\n    }\r\n\r\n    if (type == \"flea\") {\r\n      this.frameWidth = 168;\r\n      this.frameHeight = 80;\r\n      this.enemyImage.src = \"./assets/flea.png\";\r\n      this.maxIndex = 1;\r\n    }\r\n\r\n    if (type == \"scorpion\") {\r\n      this.frameWidth = 16;\r\n      this.frameHeight = 8;\r\n      this.enemyImage.src = \"./assets/scorpion.png\";\r\n      this.maxIndex = 3;\r\n    }\r\n    \r\n    this.index = 0;\r\n    this.type = type;\r\n    this.drawSprite = this.drawSprite.bind(this)\r\n  }\r\n\r\n  takeDamage(damage) {\r\n    this.health -= damage;\r\n  }\r\n\r\n  update(timeStamp) {\r\n    // this.x += 200 * (2 * Math.random() - 1) * 0.001 * timeStamp;\r\n\r\n    if(this.type== \"scorpion\"){\r\n      this.x += this.cspeedX * 0.001 * timeStamp;\r\n    }\r\n    \r\n    if(this.type== \"spidey\"){\r\n      this.cspeedX = this.x < 0 || this.x > 800 - this.width? (-1 * this.cspeedX): this.cspeedX;\r\n      this.cspeedY =\r\n        this.y < 200 || this.y > 770 - this.height\r\n          ? -1 * this.cspeedY\r\n          : this.cspeedY;\r\n      this.x += this.cspeedX * 0.001 * timeStamp;\r\n      this.y += this.cspeedY * 0.001 * timeStamp;\r\n      // if (this.x < 0 || this.x > 800 - this.width) {\r\n      //   this.x = 400;\r\n      // }\r\n  \r\n    }\r\n  }\r\n\r\n  drawSprite() {\r\n    this.context.drawImage(\r\n      this.enemyImage,\r\n      this.index * this.frameWidth,\r\n      0,\r\n      this.frameWidth,\r\n      this.frameHeight,\r\n      this.x,\r\n      this.y,\r\n      this.width,\r\n      this.height\r\n    );\r\n\r\n    if (this.type == \"spidey\") {\r\n      this.count++;\r\n      if (this.count > 10) {\r\n        this.index++;\r\n        this.count = 0;\r\n      }\r\n      if (this.index > this.maxIndex) {\r\n        this.index = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  draw(context) {\r\n    this.context = context;\r\n    context.filLStyle = this.color;\r\n    if (this.health > 1) {\r\n      if(this.type == \"mushroom\"){\r\n        this.index = 4 - this.health;\r\n      }\r\n      this.drawSprite();\r\n    } else {\r\n      console.log(\"mushroom is not here, correct your code\");\r\n    }\r\n    // context.fillRect(this.x, this.y, this.width, this.height);\r\n    // context.strokeRect(this.x, this.y, this.width, this.height);\r\n    // context.fillStyle = \"white\";\r\n    // context.font = \"25px Arial\";\r\n    // context.fillText(\r\n    //   this.health,\r\n    //   this.x + this.width / 4,\r\n    //   this.y + this.height / 1.5\r\n    // );\r\n    // context.fillStyle = \"black\";\r\n  }\r\n}\r\n"],"file":"enemy.dev.js"}