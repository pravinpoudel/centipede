{"version":3,"sources":["index.js"],"names":["canvas","document","getElementById","context","getContext","GAME_WIDTH","GAME_HEIGHT","PADDLE_OFFSET","ballElement","topCode","downCode","rightCode","leftCode","activeButton","then","game","addEventListener","restartGame","localStorage","getItem","setItem","JSON","stringify","Game","start","style","display","requestAnimationFrame","update","window","event","innerText","key","element_key","dataset","console","log","e","restartForm","timeStamp","delta","clearRect","draw","gameOver"],"mappings":"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","sourcesContent":["import Paddle from \"./paddle.js\";\r\nimport InputHandler from \"./inputHandler.js\";\r\nimport Ball from \"./ball.js\";\r\nimport Game from \"./game.js\";\r\n\r\nconst canvas = document.getElementById(\"gameScreen\");\r\nconst context = canvas.getContext(\"2d\");\r\n\r\nconst GAME_WIDTH = 800;\r\nconst GAME_HEIGHT = 800;\r\nconst PADDLE_OFFSET = 10;\r\nconst ballElement = document.getElementById(\"img_ball\");\r\n\r\nlet topCode, downCode, rightCode, leftCode;\r\nleftCode = \"ArrowLeft\";\r\nrightCode = \"ArrowRight\";\r\ntopCode = \"ArrowUp\";\r\ndownCode = \"ArrowDown\";\r\nlet activeButton = null;\r\nlet then = 0;\r\nlet game;\r\n\r\ndocument.getElementById(\"startMenu\").addEventListener(\"click\", restartGame);\r\nif (!localStorage.getItem(\"highScores\")) {\r\n  localStorage.setItem(\"highScores\", JSON.stringify([0]));\r\n}\r\n\r\nfunction restartGame() {\r\n  game = new Game(GAME_WIDTH, GAME_HEIGHT);\r\n  game.start(game, topCode, downCode, rightCode, leftCode, 5, 0);\r\n  document.getElementById(\"menu\").style.display = \"none\";\r\n  requestAnimationFrame(update);\r\n}\r\n\r\nwindow.addEventListener(\"keydown\", (event) => {\r\n  if (activeButton) {\r\n    activeButton.innerText = event.key;\r\n    let element_key = activeButton.dataset.key;\r\n    if (event.key == \"Escape\") {\r\n      return;\r\n    }\r\n    console.log(event.key);\r\n    switch (element_key) {\r\n      case \"top\":\r\n        topCode = event.key;\r\n      case \"down\":\r\n        downCode = event.key;\r\n      case \"right\":\r\n        rightCode = event.key;\r\n      case \"left\":\r\n        leftCode = event.key;\r\n    }\r\n    // activeButton = null;\r\n  }\r\n});\r\n\r\ndocument.getElementById(\"customControl\").addEventListener(\"focusout\", (e) => {\r\n  console.log(\"blurred\");\r\n  activeButton = null;\r\n});\r\n\r\nfunction restartForm() {\r\n  document.getElementById(\"top_button\").innerText = topCode;\r\n  document.getElementById(\"top_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"top_button\");\r\n  });\r\n  document.getElementById(\"right_button\").innerText = rightCode;\r\n  document.getElementById(\"right_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"right_button\");\r\n    console.log(activeButton);\r\n  });\r\n\r\n  document.getElementById(\"left_button\").innerText = leftCode;\r\n  document.getElementById(\"left_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"left_button\");\r\n  });\r\n\r\n  document.getElementById(\"down_button\").innerText = downCode;\r\n  document.getElementById(\"down_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"down_button\");\r\n    console.log(activeButton);\r\n  });\r\n}\r\n\r\nrestartForm();\r\n\r\nfunction update(timeStamp) {\r\n  let delta = timeStamp - then;\r\n  then = timeStamp;\r\n  context.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\r\n  game.update(delta);\r\n  game.draw(context);\r\n  if (!game.gameOver) {\r\n    requestAnimationFrame(update);\r\n  } else {\r\n    document.getElementById(\"menu\").style.display = \"block\";\r\n  }\r\n}\r\n\r\n"],"file":"index.dev.js"}