{"version":3,"sources":["index.js"],"names":["canvas","document","getElementById","context","getContext","GAME_WIDTH","GAME_HEIGHT","PADDLE_OFFSET","ballElement","topCode","downCode","rightCode","leftCode","activeButton","then","game","addEventListener","restartGame","localStorage","getItem","setItem","JSON","stringify","Game","console","log","start","style","display","requestAnimationFrame","update","window","event","innerText","key","element_key","dataset","restartForm","timeStamp","delta","clearRect","draw","gameOver"],"mappings":"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","sourcesContent":["import Paddle from \"./paddle.js\";\r\nimport InputHandler from \"./inputHandler.js\";\r\nimport Ball from \"./ball.js\";\r\nimport Game from \"./game.js\";\r\n\r\nconst canvas = document.getElementById(\"gameScreen\");\r\nconst context = canvas.getContext(\"2d\");\r\n\r\nconst GAME_WIDTH = 800;\r\nconst GAME_HEIGHT = 800;\r\nconst PADDLE_OFFSET = 10;\r\nconst ballElement = document.getElementById(\"img_ball\");\r\n\r\nlet topCode, downCode, rightCode, leftCode;\r\nleftCode = \"ArrowLeft\";\r\nrightCode = \"ArrowRight\";\r\ntopCode = \"ArrowUp\";\r\ndownCode = \"ArrowDown\";\r\nlet activeButton = null;\r\nlet then = 0;\r\nlet game;\r\n\r\ndocument.getElementById(\"startMenu\").addEventListener(\"click\", restartGame);\r\nif (!localStorage.getItem(\"highScores\")) {\r\n  localStorage.setItem(\"highScores\", JSON.stringify([0]));\r\n}\r\n\r\nfunction restartGame() {\r\n  game = new Game(GAME_WIDTH, GAME_HEIGHT);\r\n  console.log(game);\r\n  game.start(game, topCode, downCode, rightCode, leftCode, 5, 0);\r\n  document.getElementById(\"menu\").style.display = \"none\";\r\n  requestAnimationFrame(update);\r\n}\r\n\r\nwindow.addEventListener(\"keydown\", (event) => {\r\n  if (activeButton) {\r\n    activeButton.innerText = event.key;\r\n    let element_key = activeButton.dataset.key;\r\n    if (event.key == \"Escape\") {\r\n      return;\r\n    }\r\n    console.log(event.key);\r\n    switch (element_key) {\r\n      case \"top\":\r\n        topCode = event.key;\r\n      case \"down\":\r\n        downCode = event.key;\r\n      case \"right\":\r\n        rightCode = event.key;\r\n      case \"left\":\r\n        leftCode = event.key;\r\n    }\r\n    // activeButton = null;\r\n  }\r\n});\r\n\r\n// document.getElementById(\"customControl\").addEventListener(\"focusout\", (e) => {\r\n//   console.log(\"blurred\");\r\n//   activeButton = null;\r\n// });\r\n\r\nfunction restartForm() {\r\n  document.getElementById(\"top_button\").innerText = topCode;\r\n  document.getElementById(\"top_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"top_button\");\r\n  });\r\n  document.getElementById(\"right_button\").innerText = rightCode;\r\n  document.getElementById(\"right_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"right_button\");\r\n    console.log(activeButton);\r\n  });\r\n\r\n  document.getElementById(\"left_button\").innerText = leftCode;\r\n  document.getElementById(\"left_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"left_button\");\r\n  });\r\n\r\n  document.getElementById(\"down_button\").innerText = downCode;\r\n  document.getElementById(\"down_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"down_button\");\r\n    console.log(activeButton);\r\n  });\r\n}\r\n\r\nrestartForm();\r\n\r\nfunction update(timeStamp) {\r\n  let delta = timeStamp - then;\r\n  then = timeStamp;\r\n  context.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\r\n  game.update(delta);\r\n  game.draw(context);\r\n  if (!game.gameOver) {\r\n    requestAnimationFrame(update);\r\n  } else {\r\n    document.getElementById(\"menu\").style.display = \"block\";\r\n  }\r\n}\r\n\r\n"],"file":"index.dev.js"}