{"version":3,"sources":["paddle.js"],"names":["Paddle","game","padding","inputHandler","bulletController","topCode","downCode","rightCode","leftCode","offset","life","score","this","width","height","x","y","position","Image","spriteGunImage2","src","spriteGunImage","sound1","Audio","localStorage","setItem","moveLeft","moveDown","bind","moveStop","shoot","animateGun","animationGun2","addCommandHandler","moveRight","moveTop","cSpeed","deltaTime","sprite","isColliding","play","bulletX","bulletY","console","log","context","drawImage","draw","clamp","num","min","max","Math","update"],"mappings":"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","file":"paddle.min.js","sourcesContent":["export default class Paddle {\r\n  constructor(\r\n    game,\r\n    padding,\r\n    inputHandler,\r\n    bulletController,\r\n    topCode,\r\n    downCode,\r\n    rightCode,\r\n    leftCode,\r\n    offset,\r\n    life,\r\n    score\r\n  ) {\r\n    this.width = 50;\r\n    this.height = 50;\r\n    this.padding = 10;\r\n    this.inputHandler = inputHandler;\r\n    this.bulletController = bulletController;\r\n    this.context = null;\r\n    this.offset = offset;\r\n    this.position = {\r\n      x: game.GAME_WIDTH / 2 - this.width / 2,\r\n      y: game.GAME_HEIGHT - this.height - this.padding,\r\n    };\r\n\r\n    this.cSpeed = {\r\n      x: 200,\r\n      y: 200,\r\n    };\r\n\r\n    this.topCode = topCode;\r\n    this.downCode = downCode;\r\n    this.leftCode = leftCode;\r\n    this.rightCode = rightCode;\r\n\r\n    this.spriteGunImage = new Image();\r\n    this.spriteGunImage2 = new Image();\r\n\r\n    this.spriteGunImage.src = \"./assets/gun1.png\";\r\n    this.spriteGunImage2.src = \"./assets/gun2.png\";\r\n\r\n    this.sound1 = new Audio();\r\n    this.sound1.src = \"./assets/audio/gun_shoot.flac\";\r\n\r\n    this.maxSpeed = 40;\r\n    this.life = life;\r\n\r\n    localStorage.setItem(\"currentScore\", score);\r\n\r\n    this.moveRight = this.moveRight.bind(this);\r\n    this.moveLeft = this.moveLeft.bind(this);\r\n    this.moveTop = this.moveTop.bind(this);\r\n    this.moveDown = this.moveDown.bind(this);\r\n    this.moveStop = this.moveStop.bind(this);\r\n    this.shoot = this.shoot.bind(this);\r\n    this.animateGun = this.animateGun.bind(this);\r\n    this.animationGun2 = this.animationGun2.bind(this);\r\n\r\n    this.inputHandler.addCommandHandler(this.leftCode, this.moveLeft);\r\n    this.inputHandler.addCommandHandler(this.rightCode, this.moveRight);\r\n    this.inputHandler.addCommandHandler(this.topCode, this.moveTop);\r\n    this.inputHandler.addCommandHandler(this.downCode, this.moveDown);\r\n    this.inputHandler.addCommandHandler(32, this.moveStop);\r\n  }\r\n\r\n  moveLeft(deltaTime) {\r\n    // this.cSpeed.x = -this.maxSpeed;\r\n    this.position.x -= this.cSpeed.x * 0.001 * deltaTime;\r\n    // this.cSpeed.y = 0;\r\n  }\r\n  moveRight(deltaTime) {\r\n    // this.cSpeed.x = this.maxSpeed;\r\n    this.position.x += this.cSpeed.x * 0.001 * deltaTime;\r\n    // this.cSpeed.y = 0;\r\n  }\r\n  moveTop(deltaTime) {\r\n    // this.cSpeed.y = -this.maxSpeed;\r\n    this.position.y -= this.cSpeed.y * 0.001 * deltaTime;\r\n    // this.cSpeed.x = 0;\r\n  }\r\n\r\n  moveDown(deltaTime) {\r\n    // this.cSpeed.y = this.maxSpeed;\r\n    this.position.y += this.cSpeed.y * 0.001 * deltaTime;\r\n    // this.cSpeed.x = 0;\r\n  }\r\n\r\n  moveStop(deltaTime) {\r\n    this.shoot();\r\n    // this.cSpeed.x = 0;\r\n    // this.cSpeed.y = 0;\r\n  }\r\n\r\n  collideWith(sprite) {\r\n    let isColliding =\r\n      this.position.x < sprite.x + sprite.width &&\r\n      this.position.x + this.width > sprite.x &&\r\n      this.position.y < sprite.y + sprite.width &&\r\n      this.position.y + this.height > sprite.y;\r\n    return isColliding;\r\n  }\r\n\r\n  shoot() {\r\n    this.animationGun2();\r\n    this.sound1.play();\r\n    const speed = 5;\r\n    const delay = 5;\r\n    const damage = 1;\r\n    const bulletX = this.position.x + this.width / 2;\r\n    const bulletY = this.position.y;\r\n    this.bulletController.shoot(bulletX, bulletY, speed, damage, delay);\r\n    // this.animateGun();\r\n  }\r\n\r\n  animateGun() {\r\n    console.log(this.context);\r\n    this.context.drawImage(\r\n      this.spriteGunImage,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.width,\r\n      this.height\r\n    );\r\n  }\r\n\r\n  animationGun2() {\r\n    this.context.drawImage(\r\n      this.spriteGunImage2,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.width,\r\n      this.height\r\n    );\r\n  }\r\n\r\n  draw(context) {\r\n    this.context = context;\r\n    this.animationGun2();\r\n    this.bulletController.draw(context);\r\n  }\r\n  clamp(num, min, max) {\r\n    return Math.min(Math.max(num, min), max);\r\n  }\r\n\r\n  update(deltaTime) {\r\n    this.inputHandler.update(deltaTime);\r\n    this.bulletController.update();\r\n    // console.log(this.position)\r\n    this.position.x = this.clamp(this.position.x, 0, 800 - this.width);\r\n    this.position.y = this.clamp(\r\n      this.position.y,\r\n      600,\r\n      800 - this.width - this.offset\r\n    );\r\n    // if (this.position.x > 800 || this.position.x < 0) {\r\n    //   this.position.x = 0;\r\n    // }\r\n  }\r\n}\r\n"]}