{"version":3,"sources":["enemy.js"],"names":["Enemy","x","y","falling","color","health","type","_classCallCheck","this","context","width","height","enemyImage","Image","frameWidthPlusOffset","frameWidth","frameHeight","count","cspeedX","cspeedY","src","index","maxIndex","drawSprite","bind","timeStamp","drawImage","filLStyle","console"],"mappings":"qeAAqBA,iBACnB,SAAAA,EAAYC,EAAGC,EAAGC,EAASC,EAAOC,EAAQC,GAAMC,gBAAAC,KAAAR,GAC9CQ,KAAKP,EAAIA,EACTO,KAAKN,EAAIA,EACTM,KAAKJ,MAAQA,EACbI,KAAKH,OAASA,EACdG,KAAKC,QAAU,KACfD,KAAKE,MAAQ,GACbF,KAAKG,OAAS,GACdH,KAAKI,WAAa,IAAIC,MACtBL,KAAKM,qBAAuB,GAC5BN,KAAKO,WAAa,EAClBP,KAAKQ,YAAc,EAZFhB,KAaZG,QAAUA,EACfK,KAAKS,MAAQ,EACbT,KAAKU,QAAU,IAdjBV,KAAAW,QAAA,IAAgDX,KAAAI,WAAAQ,IAAA,wBAE9C,WAeAZ,KAAKF,KAAOA,KAdZE,KAAKJ,WAAL,GACAI,KAAKH,YAAL,EACAG,KAAKC,WAAUW,IAAf,sBACAZ,KAAKE,SAAL,GAGKI,QAALR,IACAE,KAAKO,WAAL,IACAP,KAAKQ,YAAL,GACAR,KAAKL,WAAUA,IAAf,oBACAK,KAAKS,SAAL,GAGKL,YAALN,IACAE,KAAKF,WAAL,GAkBEE,KAAKQ,YAAc,EAhBrBR,KAAIF,WAAQc,IAAU,wBACpBZ,KAAKO,SAAL,GAGAP,KAAAa,MAAKC,EACNd,KAAAF,KAAAA,EAkBDE,KAAKe,WAAaf,KAAKe,WAAWC,KAAKhB,8DAdhCQ,GACLR,KAAAH,QAAKO,iCAoBFa,GAdET,YAALR,KAAKQ,OACLR,KAAKI,GAAiB,KAAjBA,KAALM,QAAsBO,GAoBT,UAAZjB,KAAKF,OAhBRE,KAAKa,QAALb,KAAAP,EAAA,GAAAO,KAAAP,EAAA,IAAAO,KAAAE,OAAA,EAAAF,KAAAU,QAAAV,KAAAU,QACAV,KAAKF,QACLE,KAAKe,EAAAA,KAAaf,KAAKe,EAAAA,IAAWC,KAAKb,QACxC,EAAAH,KAAAW,QAkBSX,KAAKW,QACXX,KAAKP,GAAoB,KAAfO,KAAKU,QAAkBO,EACjCjB,KAAKN,GAAoB,KAAfM,KAAKW,QAAkBM,wCAVjCjB,KAAAC,QAAAiB,UACDlB,KAAAI,WAoBCJ,KAAKa,MAAQb,KAAKO,WAlBpB,EACEP,KAAAO,WACAP,KAAAQ,YAIAR,KAAAP,EACAO,KAAAN,EAEAM,KAAAE,MACAF,KAAAG,QAkBe,UAAbH,KAAKF,OACPE,KAAKS,QACY,GAAbT,KAAKS,QAdXT,KAAKC,QAgBDD,KAAKS,MAAQ,GAHfT,KAAKS,MAALT,KAAAc,WAMEd,KAAKa,MAAQ,iCAKdZ,IANDD,KAAAC,QAASY,GACPM,UAAAnB,KAAAJ,MACD,EAAAI,KAAAH,QACF,YAAAG,KAAAF,OACFE,KAAAa,MAAA,EAAAb,KAAAH,QASGG,KAAKe,cANPK,QAAKnB,IAAL","file":"enemy.min.js","sourcesContent":["export default class Enemy {\r\n  constructor(x, y, falling, color, health, type) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.color = color;\r\n    this.health = health;\r\n    this.context = null;\r\n    this.width = 15;\r\n    this.height = 15;\r\n    this.enemyImage = new Image();\r\n    this.frameWidthPlusOffset = 90;\r\n    this.frameWidth = 8;\r\n    this.frameHeight = 8;\r\n    this.falling = falling;\r\n    this.count = 0;\r\n    this.cspeedX = 100;\r\n    this.cspeedY = 100;\r\n    this.enemyImage.src = \"./assets/mushroom.png\";\r\n    this.type = type;\r\n    \r\n    if (type == \"spidey\") {\r\n      this.frameWidth = 16;\r\n      this.frameHeight = 8;\r\n      this.enemyImage.src = \"./assets/spider.png\";\r\n      this.maxIndex = 3;\r\n    }\r\n\r\n    if (type == \"flea\") {\r\n      this.frameWidth = 168;\r\n      this.frameHeight = 80;\r\n      this.enemyImage.src = \"./assets/flea.png\";\r\n      this.maxIndex = 1;\r\n    }\r\n\r\n    if (type == \"scorpion\") {\r\n      this.frameWidth = 16;\r\n      this.frameHeight = 8;\r\n      this.enemyImage.src = \"./assets/scorpion.png\";\r\n      this.maxIndex = 3;\r\n    }\r\n    \r\n    this.index = 0;\r\n    this.type = type;\r\n    this.drawSprite = this.drawSprite.bind(this)\r\n  }\r\n\r\n  takeDamage(damage) {\r\n    this.health -= damage;\r\n  }\r\n\r\n  update(timeStamp) {\r\n    // this.x += 200 * (2 * Math.random() - 1) * 0.001 * timeStamp;\r\n\r\n    if(this.type== \"scorpion\"){\r\n      this.x += this.cspeedX * 0.001 * timeStamp;\r\n    }\r\n    \r\n    if(this.type== \"spidey\"){\r\n      this.cspeedX = this.x < 0 || this.x > 800 - this.width? (-1 * this.cspeedX): this.cspeedX;\r\n      this.cspeedY =\r\n        this.y < 200 || this.y > 770 - this.height\r\n          ? -1 * this.cspeedY\r\n          : this.cspeedY;\r\n      this.x += this.cspeedX * 0.001 * timeStamp;\r\n      this.y += this.cspeedY * 0.001 * timeStamp;\r\n      // if (this.x < 0 || this.x > 800 - this.width) {\r\n      //   this.x = 400;\r\n      // }\r\n  \r\n    }\r\n  }\r\n\r\n  drawSprite() {\r\n    this.context.drawImage(\r\n      this.enemyImage,\r\n      this.index * this.frameWidth,\r\n      0,\r\n      this.frameWidth,\r\n      this.frameHeight,\r\n      this.x,\r\n      this.y,\r\n      this.width,\r\n      this.height\r\n    );\r\n\r\n    if (this.type == \"spidey\") {\r\n      this.count++;\r\n      if (this.count > 10) {\r\n        this.index++;\r\n        this.count = 0;\r\n      }\r\n      if (this.index > this.maxIndex) {\r\n        this.index = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  draw(context) {\r\n    this.context = context;\r\n    context.filLStyle = this.color;\r\n    if (this.health > 1) {\r\n      if(this.type == \"mushroom\"){\r\n        this.index = 4 - this.health;\r\n      }\r\n      this.drawSprite();\r\n    } else {\r\n      console.log(\"mushroom is not here, correct your code\");\r\n    }\r\n    // context.fillRect(this.x, this.y, this.width, this.height);\r\n    // context.strokeRect(this.x, this.y, this.width, this.height);\r\n    // context.fillStyle = \"white\";\r\n    // context.font = \"25px Arial\";\r\n    // context.fillText(\r\n    //   this.health,\r\n    //   this.x + this.width / 4,\r\n    //   this.y + this.height / 1.5\r\n    // );\r\n    // context.fillStyle = \"black\";\r\n  }\r\n}\r\n"]}