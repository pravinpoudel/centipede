{"version":3,"sources":["inputHandler.js"],"names":["InputHandler","_classCallCheck","this","keys","handlers","addKey","bind","removeKey","clearKey","addCommandHandler","window","addEventListener","e","keyCode","console","method","log","timeStamp","key","warn"],"mappings":"qeAAqBA,wBACnB,SAAAA,IAAcC,gBAAAC,KAAAF,GACZE,KAAKC,KAAO,GACZD,KAAKE,SAAW,GAEhBF,KAAKG,OAASH,KAAKG,OAAOC,KAAKJ,MAC/BA,KAAKK,UAAYL,KAAKK,UAAUD,KAAKJ,MACrCA,KAAKM,SAAWN,KAAKM,SAASF,KAAKJ,MAEnCA,KAAKO,kBAAoBP,KAAKO,kBAAkBH,KAAKJ,MACrDQ,OAAOC,iBAAiB,UAAWT,KAAKG,QACxCK,OAAOC,iBAAiB,QAAST,KAAKK,WACtCG,OAAOC,iBAAiB,OAAQT,KAAKM,8DAGhCI,GAdPV,KAAAC,KAAAS,EAAAC,UAAc,oCACPV,UACAC,KAAAA,KAAWQ,EAAhBC,4CAMAC,QAAKL,IAAAA,qDAoBWI,EAASE,GACzBD,QAAQE,IAAIH,EAASE,GACrBb,KAAKE,SAASS,GAAWE,iCAd1BE,GAkBC,IAAK,IAAMC,KAAOhB,KAAKC,KACVD,KAAKE,SAASc,GAAOhB,KAAKE,SAASc,GAAKD,IAhBrDH,QAAOE,IAAKb,wBACbW,QAAAK,KAAA","file":"inputHandler.min.js","sourcesContent":["export default class InputHandler {\r\n  constructor() {\r\n    this.keys = {};\r\n    this.handlers = {};\r\n\r\n    this.addKey = this.addKey.bind(this);\r\n    this.removeKey = this.removeKey.bind(this);\r\n    this.clearKey = this.clearKey.bind(this);\r\n\r\n    this.addCommandHandler = this.addCommandHandler.bind(this);\r\n    window.addEventListener(\"keydown\", this.addKey);\r\n    window.addEventListener(\"keyup\", this.removeKey);\r\n    window.addEventListener(\"blur\", this.clearKey);\r\n  }\r\n\r\n  addKey(e) {\r\n    this.keys[e.keyCode] = true;\r\n  }\r\n\r\n  removeKey(e) {\r\n    delete this.keys[e.keyCode];\r\n  }\r\n\r\n  clearKey(e) {\r\n    console.log(\"blurred\");\r\n    // this.keys = {};\r\n    // this.handlers = {};\r\n  }\r\n\r\n  addCommandHandler(keyCode, method) {\r\n    console.log(keyCode, method);\r\n    this.handlers[keyCode] = method;\r\n  }\r\n\r\n  update(timeStamp) {\r\n    for (const key in this.keys) {\r\n      if ((this, this.handlers[key])) this.handlers[key](timeStamp);\r\n      else {\r\n        console.log(\"press space to shoot\");\r\n        console.warn(\"we only support WASD and key up-down-right-left\");\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}