{"version":3,"sources":["index.js"],"names":["_paddle","_interopRequireDefault","require","_inputHandler","_ball","_game","context","downCode","getContext","leftCode","canvas","document","getElementById","GAME_WIDTH","GAME_HEIGHT","PADDLE_OFFSET","ballElement","rightCode","topCode","restartGame","game","localStorage","getItem","start","style","display","requestAnimationFrame","update","innerText","addEventListener","event","activeButton","console","log","timeStamp","then","clearRect","delta","restartForm","gameOver","setItem","JSON","stringify","key","element_key","dataset"],"mappings":"aAAA,IAAAA,QAAAC,uBAAAC,QAAA,gBACAC,cAAAF,uBAAAC,QAAA,sBADAE,MAAAH,uBAAAC,QAAA,cAGAG,MAAAJ,uBAAAC,QAAA,sFAEA,IACMI,QAAOC,SAAUC,UAAWC,SAD5BC,OAASC,SAASC,eAAe,cAHvCN,QAAAI,OAAAF,WAAA,MACAK,WAAA,IAMMC,YAAc,IACdC,cAAgB,GAChBC,YAAcL,SAASC,eAAe,YAH5CH,SAAMI,YACNI,UAAMH,aACNI,QAAMH,UACNR,SAAMS,YAEN,IAEAC,KAFIC,aAASX,KACbE,KAAW,EAaX,SAASU,cAJTC,KAAKC,IAAAA,MAAAA,QAAaC,WAAQR,aACxBO,QAAAA,IAAYD,MACbA,KAAAG,MAAAH,KAAAF,QAAAX,SAAAU,UAAAR,SAAA,EAAA,GAMCE,SAASC,eAAe,QAAQY,MAAMC,QAAU,OAJlDC,sBAAuBC,QAwBflB,SAAAA,cARJE,SAUAC,eAAA,cAAAgB,UAAAV,QAWFP,SAASC,eAAe,cAAciB,iBAAiB,QAAS,SAACC,GAVhEC,aAAApB,SAAAC,eAAA,gBAIHD,SAAAC,eAAA,gBAAAgB,UAAAX,UACAN,SAAAC,eAAA,gBAAAiB,iBAAA,QAAA,SAAAC,GACAC,aAAApB,SAAAC,eAAA,gBAUIoB,QAAQC,IAAIF,gBANdpB,SAASC,eAAe,eAAciB,UAAAA,SACpCE,SAAAA,eAAepB,eAASC,iBAAxB,QAAA,SAAAkB,GADFC,aAAApB,SAAAC,eAAA,iBAKEmB,SAAAA,eAAepB,eAASC,UAAeL,SACvCyB,SAAOpB,eAAKmB,eAAZF,iBAAA,QAAA,SAAAC,GAFFC,aAAApB,SAAAC,eAAA,eAKAD,QAASC,IAAAA,gBAOPmB,SAAAA,OAAYG,GACZF,IAAAA,EAAQC,EAAIF,KACbI,KAHDD,EAID5B,QAAA8B,UAAA,EAAA,EAAAvB,WAAAC,aAQCM,KAAKO,OAAOU,GANdC,KAAAA,KAAWhC,SAQJc,KAAKmB,SAJVJ,SAAOD,eAAP,QAAAV,MAAAC,QAAA,QAFFC,sBAAAC,QAtEApB,SAAQK,eAAR,aAAAiB,iBAAA,QAAAV,aACIY,aAAYT,QAAhB,eACAD,aAAAmB,QAAA,aAAAC,KAAAC,UAAA,CAAA,KAWEtB,OAAKG,iBAAYL,UAASX,SAA1BuB,GACAnB,GAAAA,aAASC,CACTc,aAAAA,UAAsBC,EAAtBgB,IACD,IAAAC,EAAAb,aAAAc,QAAAF,IAMG,GAAiB,UAAbb,EAAMa,IAJR,OAGF,OADAZ,QAAAA,IAAYD,EAACF,KACTgB,GAMF,IAAK,MALHd,QAAAA,EAAaa,IACf,IAAA,OACDpC,SAAAuB,EAAAa,IAOC,IAAK,QANPX,UAAYF,EAAZa,IAQE,IAAK,OAPPlC,SAAQmC,EAARD,QAmCFhC","file":"index.min.js","sourcesContent":["import Paddle from \"./paddle.js\";\r\nimport InputHandler from \"./inputHandler.js\";\r\nimport Ball from \"./ball.js\";\r\nimport Game from \"./game.js\";\r\n\r\nconst canvas = document.getElementById(\"gameScreen\");\r\nconst context = canvas.getContext(\"2d\");\r\n\r\nconst GAME_WIDTH = 800;\r\nconst GAME_HEIGHT = 800;\r\nconst PADDLE_OFFSET = 10;\r\nconst ballElement = document.getElementById(\"img_ball\");\r\n\r\nlet topCode, downCode, rightCode, leftCode;\r\nleftCode = \"ArrowLeft\";\r\nrightCode = \"ArrowRight\";\r\ntopCode = \"ArrowUp\";\r\ndownCode = \"ArrowDown\";\r\nlet activeButton = null;\r\nlet then = 0;\r\nlet game;\r\n\r\ndocument.getElementById(\"startMenu\").addEventListener(\"click\", restartGame);\r\nif (!localStorage.getItem(\"highScores\")) {\r\n  localStorage.setItem(\"highScores\", JSON.stringify([0]));\r\n}\r\n\r\nfunction restartGame() {\r\n  game = new Game(GAME_WIDTH, GAME_HEIGHT);\r\n  console.log(game);\r\n  game.start(game, topCode, downCode, rightCode, leftCode, 5, 0);\r\n  document.getElementById(\"menu\").style.display = \"none\";\r\n  requestAnimationFrame(update);\r\n}\r\n\r\nwindow.addEventListener(\"keydown\", (event) => {\r\n  if (activeButton) {\r\n    activeButton.innerText = event.key;\r\n    let element_key = activeButton.dataset.key;\r\n    if (event.key == \"Escape\") {\r\n      return;\r\n    }\r\n    console.log(event.key);\r\n    switch (element_key) {\r\n      case \"top\":\r\n        topCode = event.key;\r\n      case \"down\":\r\n        downCode = event.key;\r\n      case \"right\":\r\n        rightCode = event.key;\r\n      case \"left\":\r\n        leftCode = event.key;\r\n    }\r\n    // activeButton = null;\r\n  }\r\n});\r\n\r\n// document.getElementById(\"customControl\").addEventListener(\"focusout\", (e) => {\r\n//   console.log(\"blurred\");\r\n//   activeButton = null;\r\n// });\r\n\r\nfunction restartForm() {\r\n  document.getElementById(\"top_button\").innerText = topCode;\r\n  document.getElementById(\"top_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"top_button\");\r\n  });\r\n  document.getElementById(\"right_button\").innerText = rightCode;\r\n  document.getElementById(\"right_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"right_button\");\r\n    console.log(activeButton);\r\n  });\r\n\r\n  document.getElementById(\"left_button\").innerText = leftCode;\r\n  document.getElementById(\"left_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"left_button\");\r\n  });\r\n\r\n  document.getElementById(\"down_button\").innerText = downCode;\r\n  document.getElementById(\"down_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"down_button\");\r\n    console.log(activeButton);\r\n  });\r\n}\r\n\r\nrestartForm();\r\n\r\nfunction update(timeStamp) {\r\n  let delta = timeStamp - then;\r\n  then = timeStamp;\r\n  context.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\r\n  game.update(delta);\r\n  game.draw(context);\r\n  if (!game.gameOver) {\r\n    requestAnimationFrame(update);\r\n  } else {\r\n    document.getElementById(\"menu\").style.display = \"block\";\r\n  }\r\n}\r\n\r\n"]}