{"version":3,"sources":["index.js"],"names":["_paddle","_interopRequireDefault","require","_inputHandler","_ball","_game","context","downCode","getContext","leftCode","canvas","document","getElementById","GAME_WIDTH","GAME_HEIGHT","PADDLE_OFFSET","ballElement","rightCode","topCode","restartGame","game","localStorage","getItem","setItem","JSON","stringify","style","display","requestAnimationFrame","update","innerText","addEventListener","event","activeButton","console","log","clearRect","delta","draw","restartForm","gameOver","then","timeStamp","start","key","element_key","dataset","e"],"mappings":"aAAA,IAAAA,QAAAC,uBAAAC,QAAA,gBACAC,cAAAF,uBAAAC,QAAA,sBADAE,MAAAH,uBAAAC,QAAA,cAGAG,MAAAJ,uBAAAC,QAAA,sFAEA,IACMI,QAAOC,SAAUC,UAAWC,SAD5BC,OAASC,SAASC,eAAe,cAHvCN,QAAAI,OAAAF,WAAA,MACAK,WAAA,IAMMC,YAAc,IACdC,cAAgB,GAChBC,YAAcL,SAASC,eAAe,YAH5CH,SAAMI,YACNI,UAAMH,aACNI,QAAMH,UACNR,SAAMS,YAEN,IAEAC,KAFIC,aAASX,KACbE,KAAW,EAaX,SAASU,eAJTC,KAAKC,IAAAA,MAAAA,QAAaC,WAAQR,cACxBO,MAAAA,KAAaE,QAAQhB,SAAciB,UAAKC,UACzCd,SAAAC,eAAA,QAAAc,MAAAC,QAAA,OAMCC,sBAAsBC,QAmBhBpB,SAAAA,cARJE,SAUAC,eAAA,cAAAkB,UAAAZ,QAWFP,SAASC,eAAe,cAAcmB,iBAAiB,QAAS,SAACC,GAVhEC,aAAAtB,SAAAC,eAAA,gBAGHD,SAASC,eAAe,gBAAiBmB,UAAAA,UACvCG,SAAQC,eAAR,gBAAAJ,iBAAA,QAAA,SAAAC,GACAC,aAAetB,SAAfC,eAAA,gBAFFsB,QAAAC,IAAAF,gBAMEtB,SAASC,eAAe,eAAckB,UAAYZ,SAClDP,SAASC,eAAe,eAAcmB,iBAAiB,QAAS,SAAAC,GAC9DC,aAAetB,SAASC,eAAe,iBAGzCD,SAASC,eAAe,eAAxBkB,UAAwCC,SACtCE,SAAAA,eAAetB,eAASC,iBAAxB,QAAA,SAAAoB,GACAE,aAAYD,SAAZrB,eAAA,eAFFsB,QAAAC,IAAAF,gBAWAtB,SAAAA,OAASC,GACPqB,IAAAA,EAAAA,EAAetB,KACfuB,KAAAA,EACD5B,QAHD8B,UAAA,EAAA,EAAAvB,WAAAC,aAIDM,KAAAS,OAAAQ,GASCjB,KAAKkB,KAAKhC,SAPZiC,QAAAA,IAAWnB,KAAAoB,UASJpB,KAAKoB,SALVC,SAAOC,eAAP,QAAAhB,MAAAC,QAAA,QAFFC,sBAAAC,QArEAtB,SAAQK,eAAR,aAAAmB,iBAAA,QAAAZ,aACIc,aAAYX,QAAhB,eACAD,aAAAE,QAAA,aAAAC,KAAAC,UAAA,CAAA,KAUEL,OAAKuB,iBAAYzB,UAASX,SAA1ByB,GACArB,GAAAA,aAASC,CACTgB,aAAAA,UAAsBC,EAAtBe,IACD,IAAAC,EAAAZ,aAAAa,QAAAF,IAMG,GAAiB,UAAbZ,EAAMY,IAJR,OAGF,OADAX,QAAAA,IAAYD,EAACF,KACTe,GAMF,IAAK,MALHb,QAAAA,EAAaY,IACf,IAAA,OACDrC,SAAAyB,EAAAY,IAOC,IAAK,QANPV,UAAYF,EAAZY,IAQE,IAAK,OAPPnC,SAAQoC,EAARD,QAcJjC,SAASC,eAAe,iBAAiBmB,iBAAiB,WAAY,SAACgB,GATjEb,QAAAC,IAAK,WACHlB,aAAS,OA2BdsB","file":"index.min.js","sourcesContent":["import Paddle from \"./paddle.js\";\r\nimport InputHandler from \"./inputHandler.js\";\r\nimport Ball from \"./ball.js\";\r\nimport Game from \"./game.js\";\r\n\r\nconst canvas = document.getElementById(\"gameScreen\");\r\nconst context = canvas.getContext(\"2d\");\r\n\r\nconst GAME_WIDTH = 800;\r\nconst GAME_HEIGHT = 800;\r\nconst PADDLE_OFFSET = 10;\r\nconst ballElement = document.getElementById(\"img_ball\");\r\n\r\nlet topCode, downCode, rightCode, leftCode;\r\nleftCode = \"ArrowLeft\";\r\nrightCode = \"ArrowRight\";\r\ntopCode = \"ArrowUp\";\r\ndownCode = \"ArrowDown\";\r\nlet activeButton = null;\r\nlet then = 0;\r\nlet game;\r\n\r\ndocument.getElementById(\"startMenu\").addEventListener(\"click\", restartGame);\r\nif (!localStorage.getItem(\"highScores\")) {\r\n  localStorage.setItem(\"highScores\", JSON.stringify([0]));\r\n}\r\n\r\nfunction restartGame() {\r\n  game = new Game(GAME_WIDTH, GAME_HEIGHT);\r\n  game.start(game, topCode, downCode, rightCode, leftCode);\r\n  document.getElementById(\"menu\").style.display = \"none\";\r\n  requestAnimationFrame(update);\r\n}\r\n\r\nwindow.addEventListener(\"keydown\", (event) => {\r\n  if (activeButton) {\r\n    activeButton.innerText = event.key;\r\n    let element_key = activeButton.dataset.key;\r\n    if (event.key == \"Escape\") {\r\n      return;\r\n    }\r\n    console.log(event.key);\r\n    switch (element_key) {\r\n      case \"top\":\r\n        topCode = event.key;\r\n      case \"down\":\r\n        downCode = event.key;\r\n      case \"right\":\r\n        rightCode = event.key;\r\n      case \"left\":\r\n        leftCode = event.key;\r\n    }\r\n    // activeButton = null;\r\n  }\r\n});\r\n\r\ndocument.getElementById(\"customControl\").addEventListener(\"focusout\", (e) => {\r\n  console.log(\"blurred\");\r\n  activeButton = null;\r\n});\r\n\r\nfunction restartForm() {\r\n  document.getElementById(\"top_button\").innerText = topCode;\r\n  document.getElementById(\"top_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"top_button\");\r\n  });\r\n  document.getElementById(\"right_button\").innerText = rightCode;\r\n  document.getElementById(\"right_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"right_button\");\r\n    console.log(activeButton);\r\n  });\r\n\r\n  document.getElementById(\"left_button\").innerText = leftCode;\r\n  document.getElementById(\"left_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"left_button\");\r\n  });\r\n\r\n  document.getElementById(\"down_button\").innerText = downCode;\r\n  document.getElementById(\"down_button\").addEventListener(\"click\", (event) => {\r\n    activeButton = document.getElementById(\"down_button\");\r\n    console.log(activeButton);\r\n  });\r\n}\r\n\r\nrestartForm();\r\n\r\nfunction update(timeStamp) {\r\n  let delta = timeStamp - then;\r\n  then = timeStamp;\r\n  context.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\r\n  game.update(delta);\r\n  game.draw(context);\r\n  console.log(game.gameOver);\r\n  if (!game.gameOver) {\r\n    requestAnimationFrame(update);\r\n  } else {\r\n    document.getElementById(\"menu\").style.display = \"block\";\r\n  }\r\n}\r\n\r\n"]}