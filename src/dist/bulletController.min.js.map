{"version":3,"sources":["bulletController.js"],"names":["_bullet","_interopRequireDefault","require","BulletController","_classCallCheck","this","bullets","timerTillNextBullet","shoot","bind","x","y","speed","damage","delay","push","Bullet","bullet","width","height","forEach","update","context","console","log","index","_this","isBulletOffScreen","draw"],"mappings":"2FAAA,IAAAA,QAAAC,uBAAAC,QAAA,keAEqBC,4BACnB,SAAAA,IAAcC,gBAAAC,KAAAF,GACZE,KAAKC,QAAU,GACfD,KAAKE,oBAAsB,EAC3BF,KAAKG,MAAQH,KAAKG,MAAMC,KAAKJ,yDAGzBK,EAAGC,EAAGC,EAAOC,EAAQC,GACrBT,KAAKE,qBAAuB,IAC9BF,KAAKC,QAAQS,KAAK,IAAIC,QAAAA,QAAON,EAAGC,EAAGC,EAAOC,IAC1CR,KAAKE,oBAAsBO,GAE7BT,KAAKE,gEAGWU,GAChB,OACEA,EAAOP,IAAMO,EAAOC,OAhBxB,IAAAD,EAAAP,GAAc,IAAAO,EAAAN,GAmBVM,EAAON,IAAMM,EAAOE,wCAKtBd,KAAKC,QAAQc,QAAQ,SAACH,GACpBA,EAAOI,wCAjBPC,GAAKhB,IAAAA,EAAAA,KACLiB,QAAAC,IAAKjB,KAAAA,QAAAA,QACNF,KAAAC,QAAAc,QAAA,SAAAH,EAAAQ,GAsBKC,EAAKC,kBAAkBV,GArB7BS,EAAKnB,QAAAA,OAAAA,EAAL,GAyBEU,EAAOW,KAAKN","file":"bulletController.min.js","sourcesContent":["import Bullet from \"./bullet.js\";\r\n\r\nexport default class BulletController {\r\n  constructor() {\r\n    this.bullets = [];\r\n    this.timerTillNextBullet = 0;\r\n    this.shoot = this.shoot.bind(this);\r\n  }\r\n\r\n  shoot(x, y, speed, damage, delay) {\r\n    if (this.timerTillNextBullet <= 0) {\r\n      this.bullets.push(new Bullet(x, y, speed, damage));\r\n      this.timerTillNextBullet = delay;\r\n    }\r\n    this.timerTillNextBullet--;\r\n  }\r\n\r\n  isBulletOffScreen(bullet) {\r\n    return (\r\n      bullet.x <= -bullet.width ||\r\n      bullet.x > 800 ||\r\n      bullet.y > 800 ||\r\n      bullet.y <= -bullet.height\r\n    );\r\n  }\r\n\r\n  update(deltaTime) {\r\n    this.bullets.forEach((bullet) => {\r\n      bullet.update();\r\n    });\r\n  }\r\n\r\n  draw(context) {\r\n    console.log(this.bullets.length);\r\n    this.bullets.forEach((bullet, index) => {\r\n      if (this.isBulletOffScreen(bullet)) {\r\n        this.bullets.splice(index, 1);\r\n        return;\r\n      }\r\n      bullet.draw(context);\r\n    });\r\n  }\r\n}\r\n"]}