{"version":3,"sources":["inputHandler.js"],"names":["InputHandler","keys","handlers","addKey","bind","removeKey","clearKey","addCommandHandler","window","addEventListener","e","keyCode","console","log","method","timeStamp","key","warn"],"mappings":";;;;;;;;;;;;;IAAqBA,Y;;;AACnB,0BAAc;AAAA;;AACZ,SAAKC,IAAL,GAAY,EAAZ;AACA,SAAKC,QAAL,GAAgB,EAAhB;AAEA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKG,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBH,IAAvB,CAA4B,IAA5B,CAAzB;AACAI,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKN,MAAxC;AACAK,IAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,KAAKJ,SAAtC;AACAG,IAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,KAAKH,QAArC;AACD;;;;2BAEMI,C,EAAG;AACR,WAAKT,IAAL,CAAUS,CAAC,CAACC,OAAZ,IAAuB,IAAvB;AACD;;;8BAESD,C,EAAG;AACX,aAAO,KAAKT,IAAL,CAAUS,CAAC,CAACC,OAAZ,CAAP;AACD;;;6BAEQD,C,EAAG;AACVE,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EADU,CAEV;AACA;AACD;;;sCAEiBF,O,EAASG,M,EAAQ;AACjCF,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAAqBG,MAArB;AACA,WAAKZ,QAAL,CAAcS,OAAd,IAAyBG,MAAzB;AACD;;;2BAEMC,S,EAAW;AAChB,WAAK,IAAMC,GAAX,IAAkB,KAAKf,IAAvB,EAA6B;AAC3B,YAAK,MAAM,KAAKC,QAAL,CAAcc,GAAd,CAAX,EAAgC,KAAKd,QAAL,CAAcc,GAAd,EAAmBD,SAAnB,EAAhC,KACK;AACHH,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAD,UAAAA,OAAO,CAACK,IAAR,CAAa,iDAAb;AACD;AACF;AACF","sourcesContent":["export default class InputHandler {\r\n  constructor() {\r\n    this.keys = {};\r\n    this.handlers = {};\r\n\r\n    this.addKey = this.addKey.bind(this);\r\n    this.removeKey = this.removeKey.bind(this);\r\n    this.clearKey = this.clearKey.bind(this);\r\n\r\n    this.addCommandHandler = this.addCommandHandler.bind(this);\r\n    window.addEventListener(\"keydown\", this.addKey);\r\n    window.addEventListener(\"keyup\", this.removeKey);\r\n    window.addEventListener(\"blur\", this.clearKey);\r\n  }\r\n\r\n  addKey(e) {\r\n    this.keys[e.keyCode] = true;\r\n  }\r\n\r\n  removeKey(e) {\r\n    delete this.keys[e.keyCode];\r\n  }\r\n\r\n  clearKey(e) {\r\n    console.log(\"blurred\");\r\n    // this.keys = {};\r\n    // this.handlers = {};\r\n  }\r\n\r\n  addCommandHandler(keyCode, method) {\r\n    console.log(keyCode, method);\r\n    this.handlers[keyCode] = method;\r\n  }\r\n\r\n  update(timeStamp) {\r\n    for (const key in this.keys) {\r\n      if ((this, this.handlers[key])) this.handlers[key](timeStamp);\r\n      else {\r\n        console.log(\"press space to shoot\");\r\n        console.warn(\"we only support WASD and key up-down-right-left\");\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"file":"inputHandler.dev.js"}