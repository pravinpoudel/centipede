{"version":3,"sources":["inputHandler.js"],"names":["InputHandler","keys","handlers","addKey","bind","removeKey","clearKey","addCommandHandler","window","addEventListener","e","keyCode","key","console","log","method","timeStamp"],"mappings":";;;;;;;;;;;;;IAAqBA,Y;;;AACnB,0BAAc;AAAA;;AACZ,SAAKC,IAAL,GAAY,EAAZ;AACA,SAAKC,QAAL,GAAgB,EAAhB;AAEA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKG,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBH,IAAvB,CAA4B,IAA5B,CAAzB;AACAI,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKN,MAAxC;AACAK,IAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,KAAKJ,SAAtC;AACAG,IAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,KAAKH,QAArC;AACD;;;;2BAEMI,C,EAAG;AACR,UAAGA,CAAC,CAACC,OAAF,IAAa,EAAhB,EACA,KAAKV,IAAL,CAAUS,CAAC,CAACE,GAAZ,IAAmB,IAAnB,CADA,KAEK,IAAGF,CAAC,CAACC,OAAF,IAAa,EAAhB,EAAmB;AACtB,aAAKV,IAAL,CAAUS,CAAC,CAACC,OAAZ,IAAuB,IAAvB;AACD;AACF;;;8BAESD,C,EAAG;AACX,UAAGA,CAAC,CAACC,OAAF,IAAa,EAAhB,EAAmB;AACf,eAAO,KAAKV,IAAL,CAAUS,CAAC,CAACE,GAAZ,CAAP;AACH,OAFD,MAIK,IAAGF,CAAC,CAACC,OAAF,IAAa,EAAhB,EAAmB;AACtB,eAAO,KAAKV,IAAL,CAAUS,CAAC,CAACC,OAAZ,CAAP;AACD;AAEF;;;6BAEQD,C,EAAG;AACVG,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EADU,CAEV;AACA;AACD;;;sCAEiBF,G,EAAKG,M,EAAQ;AAC7BF,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiBG,MAAjB;AACA,WAAKb,QAAL,CAAcU,GAAd,IAAqBG,MAArB;AACD;;;2BAEMC,S,EAAW;AAChB,WAAK,IAAMJ,GAAX,IAAkB,KAAKX,IAAvB,EAA6B;AAC3B,YAAK,MAAM,KAAKC,QAAL,CAAcU,GAAd,CAAX,EAAgC,KAAKV,QAAL,CAAcU,GAAd,EAAmBI,SAAnB,EAAhC,KACK,CACH;AACA;AACD;AACF;AACF","sourcesContent":["export default class InputHandler {\r\n  constructor() {\r\n    this.keys = {};\r\n    this.handlers = {};\r\n\r\n    this.addKey = this.addKey.bind(this);\r\n    this.removeKey = this.removeKey.bind(this);\r\n    this.clearKey = this.clearKey.bind(this);\r\n\r\n    this.addCommandHandler = this.addCommandHandler.bind(this);\r\n    window.addEventListener(\"keydown\", this.addKey);\r\n    window.addEventListener(\"keyup\", this.removeKey);\r\n    window.addEventListener(\"blur\", this.clearKey);\r\n  }\r\n\r\n  addKey(e) {\r\n    if(e.keyCode != 32)\r\n    this.keys[e.key] = true;\r\n    else if(e.keyCode == 32){\r\n      this.keys[e.keyCode] = true;\r\n    }\r\n  }\r\n\r\n  removeKey(e) {\r\n    if(e.keyCode != 32){\r\n        delete this.keys[e.key];\r\n    }\r\n\r\n    else if(e.keyCode == 32){\r\n      delete this.keys[e.keyCode];\r\n    }\r\n\r\n  }\r\n\r\n  clearKey(e) {\r\n    console.log(\"blurred\");\r\n    // this.keys = {};\r\n    // this.handlers = {};\r\n  }\r\n\r\n  addCommandHandler(key, method) {\r\n    console.log(key, method);\r\n    this.handlers[key] = method;\r\n  }\r\n\r\n  update(timeStamp) {\r\n    for (const key in this.keys) {\r\n      if ((this, this.handlers[key])) this.handlers[key](timeStamp);\r\n      else {\r\n        // console.log(\"press space to shoot\");\r\n        // console.warn(\"we only support WASD and key up-down-right-left\");\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"file":"inputHandler.dev.js"}